// Button Mixin //

@mixin button-states($btn-type, $background: null, $color, $border: null) {
  &.disabled,
  &:disabled,
  &[disabled] {
    &:hover {
      @if $btn-type == 'link' {
        color: $color;
      } @else {
        background-color: $background;
        color: $color;
        border: 1px solid $border;
      }
    }
  }

  &:hover {
    @if $btn-type == 'btn' {
      color: $color;
      background-color: darken($background, 10%);
      border-color: darken($border, 12%);
    } @else if $btn-type == 'btn-outline' {
      color: $background;
      background-color: $color;
      border-color: darken($border, 12%);
    } @else if $btn-type == 'link' {
      color: darken($color, 15%);
    } @else {
      @error "#{$btn-type} is an unknown type of button.";
    }
  }

  // can put in .active and .selected states later
}

@mixin custom-skin($type, $background: null, $color: null, $border: null) {
  @if $type == 'link' {
    color: $color;
  } @else {
    background-color: $background;
    color: $color;
    border: 1px solid $border;
  }

  @if $type == 'btn' {
    @include button-states('btn', $background, $color, $border);
  }

  @if $type == 'btn-outline' {
    @include button-states('btn-outline', $background, $color, $border);
  }

  @if $type == 'link' {
    @include button-states('link', $background, $color, $border);
  }

  &:disabled {
    @extend %input--disabled;
  }
}

// This skin doesn't need different states, just color
@mixin skin($prefix, $main-color) {

  @if $prefix == 'filled' {
    background-color: $main-color;
    color: $white;
    border: 1px solid $main-color;
  }

  @if $prefix == 'outline' {
    color: $main-color;
    background-color: $white;
    border: 1px solid $main-color;
  }
}

// Text Mixin //

@mixin text($size: null, $height: null, $weight: null, $color: null) {
  font-size: $size;
  line-height: $height;
  font-weight: $weight;
  color: $color;
}

// Position Mixins //
// position mixin: http://hugogiraudel.com/2014/05/19/new-offsets-sass-mixin/

@mixin position($position, $args: ()) {
  $offsets: top right bottom left;
  position: $position;
  
  @each $offset in $offsets {
    $index: index($args, $offset);
    
    @if $index {
      @if $index == length($args) {
        #{$offset}: 0;
      }
      @else {
        $next: nth($args, $index + 1);
        @if is-valid-length($next) {
          #{$offset}: $next;
        }
        @else if index($offsets, $next) {
          #{$offset}: 0;
        }
        @else {
          @warn "Invalid value `#{$next}` for offset `#{$offset}`.";
        }
      }
    }
  }
}

@function is-valid-length($value) {
  @return (type-of($value) == "number" and not unitless($value)) 
  or (index(auto initial inherit 0, $value) != null);
}

@mixin absolute($args: ()) {
  @include position(absolute, $args);
}
 
@mixin fixed($args: ()) {
  @include position(fixed, $args);
}
 
@mixin relative($args: ()) {
  @include position(relative, $args);
}


// === Autoprefixer === //
// ==================== //

// Transform 
// Ex: @include transform(translateY, 10px);
@mixin transform($transforms) {
  -webkit-transform: $transforms;
     -moz-transform: $transforms;
      -ms-transform: $transforms;
       -o-transform: $transforms;
          transform: $transforms;
}

// Box Shadow 
// Ex: box-shadow(2px, 2px, 6px, rgba(0, 0, 0, 0.28));
@mixin box-shadow($top, $left, $blur, $color, $inset: false) {
  @if $inset {
    -webkit-box-shadow: inset $top $left $blur $color;
       -moz-box-shadow: inset $top $left $blur $color;
        -ms-box-shadow: inset $top $left $blur $color;
         -o-box-shadow: inset $top $left $blur $color;
            box-shadow: inset $top $left $blur $color;
  } @else {
    -webkit-box-shadow: $top $left $blur $color;
       -moz-box-shadow: $top $left $blur $color;
        -ms-box-shadow: $top $left $blur $color;
         -o-box-shadow: $top $left $blur $color;
            box-shadow: $top $left $blur $color;
  }
}

// Box-sizing
// Ex: @include box-sizing(border-box);
@mixin box-sizing($arg) {
  -webkit-box-sizing: $arg;
     -moz-box-sizing: $arg;
          box-sizing: $arg;
}

// Transition 
// Ex: transition(all, .25s, ease-out);
// $transition-property = the property you want to transition
// $transition-time = seconds you want the transition to last
// $method = how you want it to transition - e.g. ease-in-out
// @mixin transition($transition-property, $transition-time, $method) {
//   -webkit-transition: $transition-property $transition-time $method;
//      -moz-transition: $transition-property $transition-time $method;
//       -ms-transition: $transition-property $transition-time $method;
//        -o-transition: $transition-property $transition-time $method;
//           transition: $transition-property $transition-time $method;
// }

// This is the old mixin for transitions,
// going to need to trasition theses
@mixin transition($var...) {
    -webkit-transition: $var;
    -moz-transition: $var;
    -ms-transition: $var;
    -o-transition: $var;
    transition: $var;
}

// Border-radius //
@mixin border-radius($radius) {
  -webkit-border-radius: $radius;
     -moz-border-radius: $radius;
      -ms-border-radius: $radius;
          border-radius: $radius;
}

// https://medium.freecodecamp.com/the-100-correct-way-to-do-css-breakpoints-88d6a5ba1862#.74mngvb8z
// to use: @include for-size(desktop-up)
@mixin for-size($range) {
  $phone-upper-boundary: 600px;
  $tablet-portrait-upper-boundary: 900px;
  $tablet-landscape-upper-boundary: 1200px;
  $desktop-upper-boundary: 1800px;

  @if $range == phone-only {
    @media (max-width: #{$phone-upper-boundary - 1}) { @content; }
  } @else if $range == tablet-portrait-up {
    @media (min-width: $phone-upper-boundary) { @content; }
  } @else if $range == tablet-landscape-up {
    @media (min-width: $tablet-portrait-upper-boundary) { @content; }
  } @else if $range == desktop-up {
    @media (min-width: $tablet-landscape-upper-boundary) { @content; }
  } @else if $range == big-desktop-up {
    @media (min-width: $desktop-upper-boundary) { @content; }
  }
}
